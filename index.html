<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ğŸ® Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ (ÙŠØªØ·Ù„Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„)</title>
  <style>
    body { margin:0; font-family: Arial, sans-serif; direction: rtl; background:#fafafa; color:#333; }
    nav { background:#1976d2; padding:12px; text-align:center; position:sticky; top:0; z-index: 1000;}
    nav a { color:white; margin:0 8px; text-decoration:none; font-size:1rem; }
    nav a:hover, nav a.active { text-decoration:underline; }
    nav a.disabled-link { color: #ccc; cursor: not-allowed; text-decoration: none; } /* Ù„ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ø±ÙˆØ§Ø¨Ø· */
    section { display:none; padding:20px; max-width:480px; margin:20px auto; background:white; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.1); }
    section.active { display:block; }
    h2 { margin-top:0; }
    button { padding:8px 16px; margin:8px 4px; font-size:1rem; cursor:pointer; border:none; border-radius:6px; background:#0288d1; color:white; transition:background .2s; }
    button:hover { background:#026aa7; }
    button:disabled { background:#ccc; cursor:not-allowed; }
    .status, .result, .message, #auth-status { margin:15px 0; font-size:1.1rem; min-height: 1.2em; }
    .board { display:grid; grid-template-columns:repeat(3,100px); gap:8px; justify-content:center; margin:15px auto; }
    .cell { width:100px; height:100px; border:2px solid #999; display:flex; align-items:center; justify-content:center; font-size:2.5rem; background:#fdfdfd; transition:background .2s; cursor:pointer; }
    .cell:hover { background:#f0f0f0; }
    .gamebox { text-align:center; margin:15px auto; }
    .timebox { font-size:2rem; margin:15px; }
    .cards { display:grid; grid-template-columns:repeat(4,80px); gap:10px; justify-content:center; margin-bottom: 15px; }
    .card { width:80px; height:80px; background:#eee; display:flex; align-items:center; justify-content:center; font-size:1.6rem; cursor:pointer; border-radius: 4px; border: 1px solid #ccc; }
    .card.revealed { background:#fff; cursor:default; }
    .card.matched { background: #c8e6c9; }
    .input-group { margin: 10px 0; }
    .input-group label { display: block; margin-bottom: 5px; font-weight: bold;}
    .input-group input[type="text"], .input-group input[type="number"], .input-group input[type="email"], .input-group input[type="password"] {
      padding: 8px; border-radius: 4px; border: 1px solid #ccc; margin-left: 5px; font-size: 1rem; width: calc(100% - 22px); box-sizing: border-box;
    }
    .question-area { margin-bottom:10px; font-size: 1.2rem; font-weight: bold; }
    .text-to-type { padding: 10px; border: 1px dashed #ccc; margin: 10px 0; font-size: 1.3rem; background-color: #f9f9f9; }
    #auth-status { font-weight: bold; color: #1976d2; }
    .auth-form-container { margin-bottom: 15px; }
    .auth-container button { width: calc(33.333% - 8px); }
    .hidden-by-auth { display: none !important; } /* Ù„Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„ØªÙŠ ØªØªØ·Ù„Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ */
  </style>
</head>
<body>

  <nav id="main-nav">
    <a href="#login" id="nav-login-link">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a>
    <!-- Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø³ØªØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡Ø§/Ø¥Ø²Ø§Ù„ØªÙ‡Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
  </nav>

  <section id="login">
    <h2>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ / Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</h2>
    <div class="auth-container">
        <div class="auth-form-container">
            <div class="input-group" id="email-group">
                <label for="login-email">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:</label>
                <input type="email" id="login-email" required />
            </div>
            <div class="input-group" id="password-group">
                <label for="login-password">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± (6 Ø­Ø±ÙˆÙ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„):</label>
                <input type="password" id="login-password" required />
            </div>
        </div>
        <button id="btn-signup">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</button>
        <button id="btn-login">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
        <button id="btn-logout" style="display:none;">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button>
    </div>
    <div id="auth-status">ÙŠØ±Ø¬Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£Ùˆ Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯.</div>
  </section>

  <!-- Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø³ØªÙƒÙˆÙ† Ù…Ø¨Ø¯Ø¦ÙŠÙ‹Ø§ ØºÙŠØ± Ø¸Ø§Ù‡Ø±Ø© Ø¥Ø°Ø§ Ù„Ù… ÙŠØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
  <section id="xo" class="game-section hidden-by-auth">
    <h2>âŒâ­• XO</h2>
    <div class="board"></div>
    <div class="status">Ø§Ù„Ø¯ÙˆØ±: âŒ</div>
    <button id="xo-restart">Ø¥Ø¹Ø§Ø¯Ø© XO</button>
  </section>

  <section id="rps" class="game-section hidden-by-auth">
    <h2>âœŠğŸ–âœŒ Ø­Ø¬Ø± ÙˆØ±Ù‚Ø© Ù…Ù‚Øµ</h2>
    <div class="gamebox">
      <button data-choice="ğŸª¨">ğŸª¨</button>
      <button data-choice="ğŸ“„">ğŸ“„</button>
      <button data-choice="âœ‚ï¸">âœ‚ï¸</button>
    </div>
    <div class="result">Ø§Ø®ØªØ± Ù„Ø¨Ø¯Ø¡!</div>
  </section>

  <section id="click" class="game-section hidden-by-auth">
    <h2>ğŸ¯ Ø§ØµØ·ÙŠØ§Ø¯ Ø§Ù„Ù‡Ø¯Ù</h2>
    <div class="gamebox"><button id="click-start">Ø§Ø¨Ø¯Ø£</button></div>
    <div id="click-target-area" class="gamebox"></div>
    <div class="status">Ø§Ø¶ØºØ· "Ø§Ø¨Ø¯Ø£"</div>
  </section>

  <section id="react" class="game-section hidden-by-auth">
    <h2>âŒ› Ø§Ø®ØªØ¨Ø§Ø± Ø³Ø±Ø¹Ø© Ø§Ù„Ø¶ØºØ·</h2>
    <div class="gamebox"><button id="react-start">Ø§Ø¨Ø¯Ø£</button></div>
    <div class="timebox">--</div>
  </section>

  <section id="dice" class="game-section hidden-by-auth">
    <h2>ğŸ² Ù„Ø¹Ø¨Ø© Ø§Ù„Ù†Ø±Ø¯</h2>
    <div class="gamebox"><button id="dice-roll">Ø±Ù…ÙŠ Ø§Ù„Ù†Ø±Ø¯</button></div>
    <div class="result">--</div>
  </section>

  <section id="memory" class="game-section hidden-by-auth">
    <h2>ğŸ§  Ù„Ø¹Ø¨Ø© Ø§Ù„Ø°Ø§ÙƒØ±Ø©</h2>
    <div class="cards"></div>
    <div class="status">Ø§Ø¶ØºØ· Ø¨Ø·Ø§Ù‚Ø© Ù„Ù„Ø¨Ø¯Ø¡</div>
    <div class="gamebox"><button id="memory-restart">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©</button></div>
  </section>

  <section id="math" class="game-section hidden-by-auth">
    <h2>ğŸ§® Ø¬Ù…Ø¹ Ø£Ø±Ù‚Ø§Ù… Ø¨Ø³Ø±Ø¹Ø©</h2>
    <div class="gamebox"><button id="math-start">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©</button></div>
    <div class="question-area" style="display:none;"></div>
    <div class="input-group" style="display:none;">
      <input type="number" id="math-answer" placeholder="Ø£Ø¯Ø®Ù„ Ø¥Ø¬Ø§Ø¨ØªÙƒ"/>
      <button id="math-submit">ØªØ­Ù‚Ù‚</button>
    </div>
    <div class="result">--</div>
  </section>

  <section id="guessnum" class="game-section hidden-by-auth">
    <h2>ğŸ”¢ ØªØ®Ù…ÙŠÙ† Ø§Ù„Ø±Ù‚Ù…</h2>
    <div class="gamebox"><button id="guessnum-start">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©</button></div>
    <div class="input-group" style="display:none;">
      <input type="number" id="guessnum-input" placeholder="Ø®Ù…Ù† Ø¨ÙŠÙ† 1 Ùˆ100"/>
      <button id="guessnum-submit">Ø®Ù…Ù†</button>
    </div>
    <div class="result">--</div>
    <div class="message"></div>
  </section>

  <section id="bigsmall" class="game-section hidden-by-auth">
    <h2>ğŸ“ Ù…Ù† Ø§Ù„Ø£ÙƒØ¨Ø±ØŸ</h2>
    <div class="gamebox"><button id="bigsmall-start">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©</button></div>
    <div class="question-area" style="display:none;"></div>
    <div class="input-group" style="display:none;">
      <input type="number" id="bigsmall-answer" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø£ÙƒØ¨Ø±"/>
      <button id="bigsmall-submit">ØªØ­Ù‚Ù‚</button>
    </div>
    <div class="result">--</div>
  </section>

  <section id="typing" class="game-section hidden-by-auth">
    <h2>âŒ¨ï¸ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ÙƒØªØ§Ø¨Ø©</h2>
    <div class="gamebox"><button id="typing-start">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</button></div>
    <div class="text-to-type" style="display:none;"></div>
    <div class="input-group" style="display:none;">
      <input type="text" id="typing-input" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ù†Øµ Ù‡Ù†Ø§"/>
      <button id="typing-submit">ØªØ­Ù‚Ù‚</button>
    </div>
    <div class="status">--</div>
  </section>

  <audio id="snd-click" src="https://actions.google.com/sounds/v1/alarms/button_click.ogg"></audio>
  <audio id="snd-win" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg"></audio>
  <audio id="snd-lose" src="https://actions.google.com/sounds/v1/cartoon/cartoon_cowbell.ogg"></audio>

  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>

  <script>
    // --- Ø§Ø³ØªØ¨Ø¯Ù„ Ù‡Ø°Ø§ Ø¨Ù€ firebaseConfig Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ ---
    const firebaseConfig = {
      apiKey: "AIzaSyDLzpa2HYzJZdZvY_YuviKZ6Zg0FhWTfJw",
      authDomain: "my-site-cdd00.firebaseapp.com",
      projectId: "my-site-cdd00",
      storageBucket: "my-site-cdd00.firebasestorage.app",
      messagingSenderId: "514123463555",
      appId: "1:514123463555:web:8499c5bde152537a3dd4b6",
      measurementId: "G-3Y7SYCE0NZ"
    };
    // ---------------------------------------------

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    document.addEventListener('DOMContentLoaded', () => {
      const playSound = (soundId) => { const sound = document.getElementById(soundId); if (sound) { sound.currentTime = 0; sound.play().catch(e => console.error("Error playing sound:", e)); } };
      const getRandomInt = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;
      const updateElementText = (element, text) => { if (element) element.textContent = text; };
      const showHideElement = (element, show, displayType = 'block') => { if (element) element.style.display = show ? displayType : 'none'; }
      const disableElement = (element, disabled) => { if(element) element.disabled = disabled; }

      const allSections = document.querySelectorAll('section'); // ÙƒÙ„ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø¨Ù…Ø§ ÙÙŠÙ‡Ø§ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
      const gameSections = document.querySelectorAll('.game-section'); // Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙÙ‚Ø·
      const mainNav = document.getElementById('main-nav');
      const navLoginLink = document.getElementById('nav-login-link');

      // Ø¨ÙŠØ§Ù†Ø§Øª Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨
      const gameNavLinksData = [
        { href: "#xo", text: "XO" }, { href: "#rps", text: "RPS" },
        { href: "#click", text: "Target" }, { href: "#react", text: "Reaction" },
        { href: "#dice", text: "Dice" }, { href: "#memory", text: "Memory" },
        { href: "#math", text: "Math" }, { href: "#guessnum", text: "GuessNum" },
        { href: "#bigsmall", text: "BigSmall" }, { href: "#typing", text: "Typing" }
      ];
      let currentNavLinks = [navLoginLink]; // Ù†Ø¨Ø¯Ø£ Ø¨Ø±Ø§Ø¨Ø· ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙÙ‚Ø·

      const updateNavigation = (isLoggedIn) => {
        // Ø¥Ø²Ø§Ù„Ø© Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© (Ù…Ø§ Ø¹Ø¯Ø§ Ø±Ø§Ø¨Ø· ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„/Ø§Ù„Ø®Ø±ÙˆØ¬)
        currentNavLinks.forEach(link => {
            if (link !== navLoginLink) link.remove();
        });
        currentNavLinks = [navLoginLink]; // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ†

        if (isLoggedIn) {
          gameNavLinksData.forEach(data => {
            const newLink = document.createElement('a');
            newLink.href = data.href;
            newLink.textContent = data.text;
            newLink.addEventListener('click', handleNavLinkClick);
            mainNav.appendChild(newLink);
            currentNavLinks.push(newLink);
          });
        }
      };

      const showSection = (targetId, isGameSection = false) => {
        allSections.forEach(s => s.classList.remove('active')); // Ø¥Ø®ÙØ§Ø¡ ÙƒÙ„ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
        const sectionToShow = document.getElementById(targetId);
        if (sectionToShow) {
            sectionToShow.classList.add('active');
        }

        currentNavLinks.forEach(a => {
            if (a) a.classList.toggle('active', a.getAttribute('href') === `#${targetId}`);
        });
        if (isGameSection || targetId === 'login') playSound('snd-click');
      };
      
      const handleNavLinkClick = (e) => {
          e.preventDefault();
          const id = e.target.getAttribute('href').slice(1);
          const isGame = Array.from(gameSections).some(gs => gs.id === id);
          showSection(id, isGame);
      };
      navLoginLink.addEventListener('click', handleNavLinkClick);


      const loginSectionEl = document.querySelector('#login');
      const loginEmailInput = loginSectionEl.querySelector('#login-email');
      const loginPasswordInput = loginSectionEl.querySelector('#login-password');
      const btnSignup = loginSectionEl.querySelector('#btn-signup');
      const btnLogin = loginSectionEl.querySelector('#btn-login');
      const btnLogout = loginSectionEl.querySelector('#btn-logout');
      const authStatusDiv = loginSectionEl.querySelector('#auth-status');
      const emailGroup = loginSectionEl.querySelector('#email-group');
      const passwordGroup = loginSectionEl.querySelector('#password-group');
      const authFormContainer = loginSectionEl.querySelector('.auth-form-container');

      btnSignup.addEventListener('click', () => { /* ... Ù†ÙØ³ ÙƒÙˆØ¯ Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¹ finally ... */
        const email = loginEmailInput.value; const password = loginPasswordInput.value;
        if (!email || !password) { updateElementText(authStatusDiv, "Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±."); return; }
        if (password.length < 6) { updateElementText(authStatusDiv, "ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± 6 Ø­Ø±ÙˆÙ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„."); return; }
        updateElementText(authStatusDiv, 'Ø¬Ø§Ø±ÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨...'); disableElement(btnSignup, true); disableElement(btnLogin, true);
        auth.createUserWithEmailAndPassword(email, password)
          .then((userCredential) => { updateElementText(authStatusDiv, `ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­! Ù…Ø±Ø­Ø¨Ø§Ù‹ ${userCredential.user.email}`); loginEmailInput.value = ''; loginPasswordInput.value = ''; })
          .catch((error) => { updateElementText(authStatusDiv, `Ø®Ø·Ø£ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨: ${error.message}`); })
          .finally(() => { disableElement(btnSignup, false); disableElement(btnLogin, false); });
      });

      btnLogin.addEventListener('click', () => { /* ... Ù†ÙØ³ ÙƒÙˆØ¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø¹ finally ... */
        const email = loginEmailInput.value; const password = loginPasswordInput.value;
        if (!email || !password) { updateElementText(authStatusDiv, "Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±."); return; }
        updateElementText(authStatusDiv, 'Ø¬Ø§Ø±ÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„...'); disableElement(btnSignup, true); disableElement(btnLogin, true);
        auth.signInWithEmailAndPassword(email, password)
          .then((userCredential) => { updateElementText(authStatusDiv, `ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­! Ù…Ø±Ø­Ø¨Ø§Ù‹ ${userCredential.user.email}`); })
          .catch((error) => { updateElementText(authStatusDiv, `Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„: ${error.message}`); })
          .finally(() => { disableElement(btnSignup, false); disableElement(btnLogin, false); });
      });

      btnLogout.addEventListener('click', () => { auth.signOut().catch((error) => { updateElementText(authStatusDiv, `Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬: ${error.message}`); }); });

      auth.onAuthStateChanged(user => {
        if (user) {
          updateElementText(authStatusDiv, `Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ, ${user.email}`);
          updateElementText(navLoginLink, 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬');
          navLoginLink.onclick = (e) => { e.preventDefault(); btnLogout.click(); }; // Note: showSection('login') will be handled by state change
          showHideElement(btnLogout, true, 'inline-block');
          showHideElement(authFormContainer, false); // Ø¥Ø®ÙØ§Ø¡ ÙÙˆØ±Ù… Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ ÙˆØ§Ù„Ø¨Ø§Ø³ÙˆØ±Ø¯
          showHideElement(btnLogin, false);
          showHideElement(btnSignup, false);
          gameSections.forEach(gs => gs.classList.remove('hidden-by-auth'));
          updateNavigation(true);
          // Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù‡Ù†Ø§Ùƒ Ù‚Ø³Ù… ÙØ¹Ø§Ù„ Ø£Ùˆ Ø§Ù„Ù‚Ø³Ù… Ø§Ù„ÙØ¹Ø§Ù„ Ù‡Ùˆ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ØŒ Ø§Ø¹Ø±Ø¶ Ø£ÙˆÙ„ Ù„Ø¹Ø¨Ø©
          const activeSection = document.querySelector('section.active');
          if (!activeSection || activeSection.id === 'login') {
            if (gameNavLinksData.length > 0) {
              showSection(gameNavLinksData[0].href.slice(1), true);
            }
          }
        } else {
          updateElementText(authStatusDiv, 'Ø£Ù†Øª ØºÙŠØ± Ù…Ø³Ø¬Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„. Ù‚Ù… Ø¨ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£Ùˆ Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯.');
          updateElementText(navLoginLink, 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„');
          navLoginLink.onclick = handleNavLinkClick; // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬ Ø§Ù„Ø£ØµÙ„ÙŠ
          showHideElement(btnLogout, false);
          showHideElement(authFormContainer, true);
          showHideElement(btnLogin, true, 'inline-block');
          showHideElement(btnSignup, true, 'inline-block');
          gameSections.forEach(gs => {
            gs.classList.add('hidden-by-auth');
            gs.classList.remove('active'); // ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø®ÙØ§Ø¡ Ø£ÙŠ Ù„Ø¹Ø¨Ø© ÙƒØ§Ù†Øª Ù†Ø´Ø·Ø©
          });
          updateNavigation(false);
          showSection('login', false); // Ø¹Ø±Ø¶ Ù‚Ø³Ù… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¯Ø§Ø¦Ù…Ù‹Ø§ Ø¹Ù†Ø¯ Ø¹Ø¯Ù… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
          loginEmailInput.value = ''; loginPasswordInput.value = '';
        }
      });

      // Ø¯ÙˆØ§Ù„ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ (ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ù…ÙˆØ¬ÙˆØ¯Ø©)
      const initXOGame = () => { /* ... ÙƒÙˆØ¯ Ù„Ø¹Ø¨Ø© XO ... */ };
      const initRPSGame = () => { /* ... ÙƒÙˆØ¯ Ù„Ø¹Ø¨Ø© RPS ... */ };
      const initClickTargetGame = () => { /* ... ÙƒÙˆØ¯ Ù„Ø¹Ø¨Ø© Click Target ... */ };
      const initReactionTestGame = () => { /* ... ÙƒÙˆØ¯ Ù„Ø¹Ø¨Ø© Reaction Test ... */ };
      const initDiceGame = () => { /* ... ÙƒÙˆØ¯ Ù„Ø¹Ø¨Ø© Dice ... */ };
      const initMemoryGame = () => { /* ... ÙƒÙˆØ¯ Ù„Ø¹Ø¨Ø© Memory ... */ };
      const initMathGame = () => { /* ... ÙƒÙˆØ¯ Ù„Ø¹Ø¨Ø© Math ... */ };
      const initGuessNumGame = () => { /* ... ÙƒÙˆØ¯ Ù„Ø¹Ø¨Ø© GuessNum ... */ };
      const initBigSmallGame = () => { /* ... ÙƒÙˆØ¯ Ù„Ø¹Ø¨Ø© BigSmall ... */ };
      const initTypingTestGame = () => { /* ... ÙƒÙˆØ¯ Ù„Ø¹Ø¨Ø© Typing ... */ };

      // Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø¯ÙˆØ§Ù„ Ø§Ù„ØªÙ‡ÙŠØ¦Ø©
      initXOGame(); initRPSGame(); initClickTargetGame(); initReactionTestGame(); initDiceGame(); initMemoryGame(); initMathGame(); initGuessNumGame(); initBigSmallGame(); initTypingTestGame();

      // Ù„Ø§ ØªÙ‚Ù… Ø¨ØªØ¹ÙŠÙŠÙ† Ù‚Ø³Ù… Ù†Ø´Ø· Ù…Ø¨Ø¯Ø¦ÙŠÙ‹Ø§ Ù‡Ù†Ø§ØŒ onAuthStateChanged Ø³ÙŠØªÙˆÙ„Ù‰ Ø§Ù„Ø£Ù…Ø±
    });
  </script>
</body>
</html>
