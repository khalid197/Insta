<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ğŸ® Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ØªØ±ÙÙŠÙ‡ÙŠ Ø§Ù„Ù…Ø·ÙˆØ±</title>
  <style>
    body { margin:0; font-family: Arial, sans-serif; direction: rtl; background:#fafafa; color:#333; }
    nav { background:#1976d2; padding:12px; text-align:center; position:sticky; top:0; z-index: 1000;}
    nav a { color:white; margin:0 8px; text-decoration:none; font-size:1rem; }
    nav a:hover, nav a.active { text-decoration:underline; }
    section { display:none; padding:20px; max-width:480px; margin:20px auto; background:white; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.1); }
    section.active { display:block; }
    h2 { margin-top:0; }
    button { padding:8px 16px; margin:8px 4px; font-size:1rem; cursor:pointer; border:none; border-radius:6px; background:#0288d1; color:white; transition:background .2s; }
    button:hover { background:#026aa7; }
    button:disabled { background:#ccc; cursor:not-allowed; }
    .status, .result, .message { margin:15px 0; font-size:1.1rem; min-height: 1.2em; /* Ù„ØªØ¬Ù†Ø¨ Ø§Ù„Ù‚ÙØ² */}
    .board { display:grid; grid-template-columns:repeat(3,100px); gap:8px; justify-content:center; margin:15px auto; }
    .cell { width:100px; height:100px; border:2px solid #999; display:flex; align-items:center; justify-content:center; font-size:2.5rem; background:#fdfdfd; transition:background .2s; cursor:pointer; }
    .cell:hover { background:#f0f0f0; }
    .gamebox { text-align:center; margin:15px auto; }
    .timebox { font-size:2rem; margin:15px; }
    .cards { display:grid; grid-template-columns:repeat(4,80px); gap:10px; justify-content:center; margin-bottom: 15px; }
    .card { width:80px; height:80px; background:#eee; display:flex; align-items:center; justify-content:center; font-size:1.6rem; cursor:pointer; border-radius: 4px; border: 1px solid #ccc; }
    .card.revealed { background:#fff; cursor:default; } /* ÙƒØ§Ù† hiddenØŒ Ø§Ù„Ø£ØµØ­ revealed */
    .card.matched { background: #c8e6c9; } /* Ù„ÙˆÙ† Ù„Ù„Ø®Ù„Ø§ÙŠØ§ Ø§Ù„Ù…ØªØ·Ø§Ø¨Ù‚Ø© */
    .input-group { margin: 10px 0; }
    .input-group label { display: block; margin-bottom: 5px; }
    .input-group input[type="text"], .input-group input[type="number"] {
      padding: 8px;
      border-radius: 4px;
      border: 1px solid #ccc;
      margin-left: 5px;
      font-size: 1rem;
    }
    .question-area { margin-bottom:10px; font-size: 1.2rem; font-weight: bold; }
    .text-to-type { padding: 10px; border: 1px dashed #ccc; margin: 10px 0; font-size: 1.3rem; background-color: #f9f9f9; }
  </style>
</head>
<body>

  <nav>
    <a href="#xo" class="active">XO</a>
    <a href="#rps">RPS</a>
    <a href="#click">Target</a>
    <a href="#react">Reaction</a>
    <a href="#dice">Dice</a>
    <a href="#memory">Memory</a>
    <a href="#math">Math</a>
    <a href="#guessnum">GuessNum</a>
    <a href="#bigsmall">BigSmall</a>
    <a href="#typing">Typing</a>
  </nav>

  <section id="xo" class="active">
    <h2>âŒâ­• XO</h2>
    <div class="board"></div>
    <div class="status">Ø§Ù„Ø¯ÙˆØ±: âŒ</div>
    <button id="xo-restart">Ø¥Ø¹Ø§Ø¯Ø© XO</button>
  </section>

  <section id="rps">
    <h2>âœŠğŸ–âœŒ Ø­Ø¬Ø± ÙˆØ±Ù‚Ø© Ù…Ù‚Øµ</h2>
    <div class="gamebox">
      <button data-choice="ğŸª¨">ğŸª¨</button>
      <button data-choice="ğŸ“„">ğŸ“„</button>
      <button data-choice="âœ‚ï¸">âœ‚ï¸</button>
    </div>
    <div class="result">Ø§Ø®ØªØ± Ù„Ø¨Ø¯Ø¡!</div>
  </section>

  <section id="click">
    <h2>ğŸ¯ Ø§ØµØ·ÙŠØ§Ø¯ Ø§Ù„Ù‡Ø¯Ù</h2>
    <div class="gamebox"><button id="click-start">Ø§Ø¨Ø¯Ø£</button></div>
    <div id="click-target-area" class="gamebox"></div>
    <div class="status">Ø§Ø¶ØºØ· "Ø§Ø¨Ø¯Ø£"</div>
  </section>

  <section id="react">
    <h2>âŒ› Ø§Ø®ØªØ¨Ø§Ø± Ø³Ø±Ø¹Ø© Ø§Ù„Ø¶ØºØ·</h2>
    <div class="gamebox"><button id="react-start">Ø§Ø¨Ø¯Ø£</button></div>
    <div class="timebox">--</div>
  </section>

  <section id="dice">
    <h2>ğŸ² Ù„Ø¹Ø¨Ø© Ø§Ù„Ù†Ø±Ø¯</h2>
    <div class="gamebox"><button id="dice-roll">Ø±Ù…ÙŠ Ø§Ù„Ù†Ø±Ø¯</button></div>
    <div class="result">--</div>
  </section>

  <section id="memory">
    <h2>ğŸ§  Ù„Ø¹Ø¨Ø© Ø§Ù„Ø°Ø§ÙƒØ±Ø©</h2>
    <div class="cards"></div>
    <div class="status">Ø§Ø¶ØºØ· Ø¨Ø·Ø§Ù‚Ø© Ù„Ù„Ø¨Ø¯Ø¡</div>
    <div class="gamebox"><button id="memory-restart">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©</button></div>
  </section>

  <section id="math">
    <h2>ğŸ§® Ø¬Ù…Ø¹ Ø£Ø±Ù‚Ø§Ù… Ø¨Ø³Ø±Ø¹Ø©</h2>
    <div class="gamebox"><button id="math-start">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©</button></div>
    <div class="question-area" style="display:none;"></div>
    <div class="input-group" style="display:none;">
      <input type="number" id="math-answer" placeholder="Ø£Ø¯Ø®Ù„ Ø¥Ø¬Ø§Ø¨ØªÙƒ"/>
      <button id="math-submit">ØªØ­Ù‚Ù‚</button>
    </div>
    <div class="result">--</div>
  </section>

  <section id="guessnum">
    <h2>ğŸ”¢ ØªØ®Ù…ÙŠÙ† Ø§Ù„Ø±Ù‚Ù…</h2>
    <div class="gamebox"><button id="guessnum-start">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©</button></div>
    <div class="input-group" style="display:none;">
      <input type="number" id="guessnum-input" placeholder="Ø®Ù…Ù† Ø¨ÙŠÙ† 1 Ùˆ100"/>
      <button id="guessnum-submit">Ø®Ù…Ù†</button>
    </div>
    <div class="result">--</div>
    <div class="message"></div>
  </section>

  <section id="bigsmall">
    <h2>ğŸ“ Ù…Ù† Ø§Ù„Ø£ÙƒØ¨Ø±ØŸ</h2>
    <div class="gamebox"><button id="bigsmall-start">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©</button></div>
    <div class="question-area" style="display:none;"></div>
    <div class="input-group" style="display:none;">
      <input type="number" id="bigsmall-answer" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø£ÙƒØ¨Ø±"/>
      <button id="bigsmall-submit">ØªØ­Ù‚Ù‚</button>
    </div>
    <div class="result">--</div>
  </section>

  <section id="typing">
    <h2>âŒ¨ï¸ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ÙƒØªØ§Ø¨Ø©</h2>
    <div class="gamebox"><button id="typing-start">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</button></div>
    <div class="text-to-type" style="display:none;"></div>
    <div class="input-group" style="display:none;">
      <input type="text" id="typing-input" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ù†Øµ Ù‡Ù†Ø§"/>
      <button id="typing-submit">ØªØ­Ù‚Ù‚</button>
    </div>
    <div class="status">--</div>
  </section>

  <!-- Ø§Ù„Ø£ØµÙˆØ§Øª -->
  <audio id="snd-click" src="https://actions.google.com/sounds/v1/alarms/button_click.ogg"></audio>
  <audio id="snd-win" src="https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg"></audio>
  <audio id="snd-lose" src="https://actions.google.com/sounds/v1/cartoon/cartoon_cowbell.ogg"></audio>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // --- Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¹Ø§Ù…Ø© ---
      const playSound = (soundId) => {
        const sound = document.getElementById(soundId);
        if (sound) {
          sound.currentTime = 0; // Ù„Ù„Ø¨Ø¯Ø¡ Ù…Ù† Ø¬Ø¯ÙŠØ¯ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„ØµÙˆØª ÙŠØ¹Ù…Ù„ Ø¨Ø§Ù„ÙØ¹Ù„
          sound.play().catch(e => console.error("Error playing sound:", e));
        }
      };

      const getRandomInt = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;

      const updateElementText = (element, text) => {
        if (element) element.textContent = text;
      };

      const showHideElement = (element, show) => {
        if (element) element.style.display = show ? 'block' : 'none'; // Ø£Ùˆ 'flex' Ø£Ùˆ 'grid' Ø­Ø³Ø¨ Ø§Ù„Ø¹Ù†ØµØ±
      }
      
      const disableElement = (element, disabled) => {
        if(element) element.disabled = disabled;
      }

      // --- Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙ†Ù‚Ù„ ---
      const sections = document.querySelectorAll('section');
      const navLinks = document.querySelectorAll('nav a');

      const showSection = (targetId) => {
        sections.forEach(s => s.classList.toggle('active', s.id === targetId));
        navLinks.forEach(a => a.classList.toggle('active', a.getAttribute('href') === `#${targetId}`));
        playSound('snd-click');
        // Ù‚Ø¯ ØªØ±ØºØ¨ ÙÙŠ Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø¯Ø§Ù„Ø© Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø£Ùˆ ØªÙ‡ÙŠØ¦Ø© Ù„Ù„Ø¹Ø¨Ø© Ø¹Ù†Ø¯ Ø¹Ø±Ø¶ Ù‚Ø³Ù…Ù‡Ø§
        // Ù…Ø«Ø§Ù„: if (targetId === 'memory') initMemoryGame(); // Ù„ÙƒÙ†Ù†Ø§ Ø³Ù†Ù‚ÙˆÙ… Ø¨Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© Ø£Ø¯Ù†Ø§Ù‡
      };

      navLinks.forEach(a => a.addEventListener('click', e => {
        e.preventDefault();
        const id = a.getAttribute('href').slice(1);
        showSection(id);
      }));

      // --- ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ---

      // 1. XO âŒâ­•
      const initXOGame = () => {
        const section = document.querySelector('#xo');
        const boardElement = section.querySelector('.board');
        const statusElement = section.querySelector('.status');
        const restartButton = section.querySelector('#xo-restart');

        let board = Array(9).fill('');
        let currentPlayer = 'âŒ';
        let gameActive = true;

        const winningPatterns = [
          [0,1,2],[3,4,5],[6,7,8], // Rows
          [0,3,6],[1,4,7],[2,5,8], // Columns
          [0,4,8],[2,4,6]          // Diagonals
        ];

        const checkWin = () => {
          for (const pattern of winningPatterns) {
            const [a, b, c] = pattern;
            if (board[a] && board[a] === board[b] && board[a] === board[c]) {
              return board[a];
            }
          }
          return null;
        };

        const checkDraw = () => !board.includes('');

        const handleClick = (index) => {
          if (!gameActive || board[index]) return;

          board[index] = currentPlayer;
          boardElement.children[index].textContent = currentPlayer;
          playSound('snd-click');

          const winner = checkWin();
          if (winner) {
            updateElementText(statusElement, `ÙØ§Ø² ${winner}`);
            playSound('snd-win');
            gameActive = false;
          } else if (checkDraw()) {
            updateElementText(statusElement, 'ØªØ¹Ø§Ø¯Ù„');
            playSound('snd-click');
            gameActive = false;
          } else {
            currentPlayer = currentPlayer === 'âŒ' ? 'â­•' : 'âŒ';
            updateElementText(statusElement, `Ø§Ù„Ø¯ÙˆØ±: ${currentPlayer}`);
          }
        };

        const resetGame = () => {
          board.fill('');
          currentPlayer = 'âŒ';
          gameActive = true;
          updateElementText(statusElement, 'Ø§Ù„Ø¯ÙˆØ±: âŒ');
          Array.from(boardElement.children).forEach(cell => cell.textContent = '');
          playSound('snd-click');
        };

        boardElement.innerHTML = Array(9).fill().map((_,i) => `<div class="cell" data-index="${i}"></div>`).join('');
        Array.from(boardElement.children).forEach((cell, i) => cell.addEventListener('click', () => handleClick(i)));
        restartButton.addEventListener('click', resetGame);

        resetGame(); // Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
      };

      // 2. RPS âœŠğŸ–âœŒ (Ø­Ø¬Ø± ÙˆØ±Ù‚Ø© Ù…Ù‚Øµ)
      const initRPSGame = () => {
        const section = document.querySelector('#rps');
        const resultElement = section.querySelector('.result');
        const choiceButtons = section.querySelectorAll('.gamebox button');
        const options = ['ğŸª¨', 'ğŸ“„', 'âœ‚ï¸'];

        choiceButtons.forEach(button => {
          button.addEventListener('click', () => {
            const playerChoice = button.dataset.choice;
            const computerChoice = options[getRandomInt(0, 2)];
            let message = 'ØªØ¹Ø§Ø¯Ù„';

            if ( (playerChoice === 'ğŸª¨' && computerChoice === 'âœ‚ï¸') ||
                 (playerChoice === 'ğŸ“„' && computerChoice === 'ğŸª¨') ||
                 (playerChoice === 'âœ‚ï¸' && computerChoice === 'ğŸ“„') ) {
              message = 'ÙØ²Øª';
            } else if (playerChoice !== computerChoice) {
              message = 'Ø®Ø³Ø±Øª';
            }
            updateElementText(resultElement, `${message}! Ø£Ù†Øª: ${playerChoice} Ø§Ù„ÙƒÙˆÙ…Ø¨ÙŠÙˆØªØ±: ${computerChoice}`);
            playSound(message === 'ÙØ²Øª' ? 'snd-win' : message === 'Ø®Ø³Ø±Øª' ? 'snd-lose' : 'snd-click');
          });
        });
      };

      // 3. Click Target ğŸ¯ (Ø§ØµØ·ÙŠØ§Ø¯ Ø§Ù„Ù‡Ø¯Ù)
      const initClickTargetGame = () => {
        const section = document.querySelector('#click');
        const startButton = section.querySelector('#click-start');
        const statusElement = section.querySelector('.status');
        const targetArea = section.querySelector('#click-target-area');
        let gameTimeoutId = null;

        startButton.addEventListener('click', () => {
          disableElement(startButton, true);
          updateElementText(statusElement, 'Ø§Ù†ØªØ¸Ø±...');
          targetArea.innerHTML = ''; // Ù…Ø³Ø­ Ø£ÙŠ Ù‡Ø¯Ù Ø³Ø§Ø¨Ù‚

          if (gameTimeoutId) clearTimeout(gameTimeoutId);

          gameTimeoutId = setTimeout(() => {
            const startTime = Date.now();
            const targetButton = document.createElement('button');
            targetButton.textContent = 'ğŸ¯';
            targetButton.style.fontSize = `${getRandomInt(2, 4)}rem`; // Ø­Ø¬Ù… Ø¹Ø´ÙˆØ§Ø¦ÙŠ
            targetButton.style.position = 'relative'; // Ù„ØªÙ…ÙˆØ¶Ø¹ Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ø£ÙØ¶Ù„
            targetButton.style.top = `${getRandomInt(-30, 30)}px`;
            targetButton.style.left = `${getRandomInt(-50, 50)}px`;

            targetButton.onclick = () => {
              const reactionTime = Date.now() - startTime;
              updateElementText(statusElement, `Ø²Ù…Ù†Ùƒ: ${reactionTime} Ù…Ù„Ù„ÙŠ Ø«Ø§Ù†ÙŠØ©`);
              playSound('snd-win');
              targetButton.remove();
              disableElement(startButton, false);
              updateElementText(statusElement, `Ø²Ù…Ù†Ùƒ: ${reactionTime} Ù…Ù„Ù„ÙŠ Ø«Ø§Ù†ÙŠØ©. Ø§Ø¶ØºØ· "Ø§Ø¨Ø¯Ø£" Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.`);
            };
            targetArea.appendChild(targetButton);
            updateElementText(statusElement, 'Ø§Ø¶ØºØ· Ø§Ù„Ù‡Ø¯Ù!');
          }, getRandomInt(1000, 3000));
        });
      };

      // 4. Reaction Test âŒ› (Ø§Ø®ØªØ¨Ø§Ø± Ø³Ø±Ø¹Ø© Ø§Ù„Ø¶ØºØ·)
      const initReactionTestGame = () => {
        const section = document.querySelector('#react');
        const startButton = section.querySelector('#react-start');
        const timeBoxElement = section.querySelector('.timebox');
        let startTime = 0;
        let gameTimeoutId = null;

        const handleEarlyClick = () => {
            updateElementText(timeBoxElement, "Ø§Ù†ØªØ¸Ø± Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø®Ø¶Ø±!");
            playSound('snd-lose');
            disableElement(startButton, false);
            updateElementText(startButton, "Ø§Ø¨Ø¯Ø£");
            startButton.style.backgroundColor = ''; // Reset color
            clearTimeout(gameTimeoutId);
            startButton.removeEventListener('click', handleEarlyClick);
            startButton.addEventListener('click', startGame); // Re-attach original start
        }

        const triggerPress = () => {
            updateElementText(startButton, "Ø§Ø¶ØºØ· Ø§Ù„Ø¢Ù†!");
            startButton.style.backgroundColor = '#4CAF50'; // Green
            startTime = Date.now();
            disableElement(startButton, false);
            startButton.removeEventListener('click', handleEarlyClick); // Remove early click listener
            startButton.addEventListener('click', handleReactionPress);
        }
        
        const handleReactionPress = () => {
          if (startTime === 0) return; // Ù„Ù… ÙŠØ¨Ø¯Ø£ Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø£Ø®Ø¶Ø± Ø¨Ø¹Ø¯

          const reactionTime = Date.now() - startTime;
          updateElementText(timeBoxElement, `${reactionTime} Ù…Ù„Ù„ÙŠ Ø«Ø§Ù†ÙŠØ©`);
          playSound('snd-win');
          updateElementText(startButton, 'Ø§Ø¨Ø¯Ø£');
          startButton.style.backgroundColor = ''; // Reset color
          disableElement(startButton, false);
          startTime = 0;
          startButton.removeEventListener('click', handleReactionPress);
          startButton.addEventListener('click', startGame); // Re-attach original start
        };
        
        const startGame = () => {
            disableElement(startButton, true);
            updateElementText(timeBoxElement, 'Ø§Ù†ØªØ¸Ø±...');
            updateElementText(startButton, 'Ø§Ù†ØªØ¸Ø±...');
            startButton.style.backgroundColor = '#f44336'; // Red
            startTime = 0; // Reset start time

            startButton.removeEventListener('click', handleReactionPress); // Clean up previous listener
            startButton.removeEventListener('click', startGame);
            startButton.addEventListener('click', handleEarlyClick); // Listen for early clicks

            if (gameTimeoutId) clearTimeout(gameTimeoutId);
            gameTimeoutId = setTimeout(triggerPress, getRandomInt(1500, 4000));
        }

        startButton.addEventListener('click', startGame);
      };


      // 5. Dice Game ğŸ² (Ù„Ø¹Ø¨Ø© Ø§Ù„Ù†Ø±Ø¯)
      const initDiceGame = () => {
        const section = document.querySelector('#dice');
        const rollButton = section.querySelector('#dice-roll');
        const resultElement = section.querySelector('.result');

        rollButton.addEventListener('click', () => {
          const roll = getRandomInt(1, 6);
          updateElementText(resultElement, `ğŸ² Ø·Ù„Ø¹Øª: ${roll}`);
          playSound('snd-click');
        });
      };

      // 6. Memory Game ğŸ§  (Ù„Ø¹Ø¨Ø© Ø§Ù„Ø°Ø§ÙƒØ±Ø©)
      const initMemoryGame = () => {
        const section = document.querySelector('#memory');
        const cardsContainer = section.querySelector('.cards');
        const statusElement = section.querySelector('.status');
        const restartButton = section.querySelector('#memory-restart');

        const cardValuesPool = ['ğŸ','ğŸŒ','ğŸ‡','ğŸ‰','ğŸ“','ğŸ’','ğŸ‘','ğŸ']; // 8 Ø£Ø²ÙˆØ§Ø¬
        let cardValues = [];
        let cards = []; // Ø³ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ {element, value, revealed, matched, index}
        let selectedCardsIndices = [];
        let matchedPairs = 0;
        let lockBoard = false; // Ù„Ù…Ù†Ø¹ Ø§Ù„Ù†Ù‚Ø± Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ­Ù‚Ù‚

        const shuffleArray = (array) => {
          for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
          }
        };

        const createBoard = () => {
          cardValues = [...cardValuesPool, ...cardValuesPool];
          shuffleArray(cardValues);
          cardsContainer.innerHTML = '';
          cards = [];
          selectedCardsIndices = [];
          matchedPairs = 0;
          lockBoard = false;
          updateElementText(statusElement, 'Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©!');

          cardValues.forEach((value, index) => {
            const cardElement = document.createElement('div');
            cardElement.classList.add('card');
            cardElement.dataset.index = index;
            cardElement.addEventListener('click', handleCardClick);
            cardsContainer.appendChild(cardElement);
            cards.push({ element: cardElement, value: value, revealed: false, matched: false, index: index });
          });
        };

        const handleCardClick = (event) => {
          if (lockBoard) return;
          const clickedIndex = parseInt(event.target.dataset.index);
          const clickedCard = cards[clickedIndex];

          if (clickedCard.revealed || clickedCard.matched || selectedCardsIndices.length === 2) return;

          clickedCard.element.textContent = clickedCard.value;
          clickedCard.element.classList.add('revealed');
          clickedCard.revealed = true;
          selectedCardsIndices.push(clickedIndex);
          playSound('snd-click');

          if (selectedCardsIndices.length === 2) {
            lockBoard = true;
            setTimeout(checkForMatch, 700);
          }
        };

        const checkForMatch = () => {
          const [index1, index2] = selectedCardsIndices;
          const card1 = cards[index1];
          const card2 = cards[index2];

          if (card1.value === card2.value) {
            card1.matched = true;
            card2.matched = true;
            card1.element.classList.add('matched');
            card2.element.classList.add('matched');
            matchedPairs++;
            playSound('snd-win');
            if (matchedPairs === cardValuesPool.length) {
              updateElementText(statusElement, 'ğŸ‰ Ø§Ù†ØªÙ‡ÙŠØª! Ø£Ø­Ø³Ù†Øª!');
            }
          } else {
            card1.element.textContent = '';
            card1.element.classList.remove('revealed');
            card1.revealed = false;
            card2.element.textContent = '';
            card2.element.classList.remove('revealed');
            card2.revealed = false;
            playSound('snd-lose');
          }
          selectedCardsIndices = [];
          lockBoard = false;
        };
        
        restartButton.addEventListener('click', createBoard);
        createBoard(); // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù„ÙˆØ­Ø© Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
      };

      // 7. Math Game ğŸ§® (Ø¬Ù…Ø¹ Ø£Ø±Ù‚Ø§Ù… Ø¨Ø³Ø±Ø¹Ø©)
      const initMathGame = () => {
        const section = document.querySelector('#math');
        const startButton = section.querySelector('#math-start');
        const questionArea = section.querySelector('.question-area');
        const inputGroup = section.querySelector('.input-group');
        const answerInput = section.querySelector('#math-answer');
        const submitButton = section.querySelector('#math-submit');
        const resultElement = section.querySelector('.result');
        let currentAnswer = 0;

        const generateQuestion = () => {
          const num1 = getRandomInt(1, 50);
          const num2 = getRandomInt(1, 50);
          currentAnswer = num1 + num2;
          updateElementText(questionArea, `Ø§Ø­Ø³Ø¨: ${num1} + ${num2} = ØŸ`);
          answerInput.value = '';
          answerInput.focus();
          updateElementText(resultElement, '--');
          showHideElement(questionArea, true);
          showHideElement(inputGroup, true);
          disableElement(startButton, true);
        };

        const checkAnswer = () => {
          const userAnswer = parseInt(answerInput.value);
          if (isNaN(userAnswer)) {
            updateElementText(resultElement, 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù….');
            return;
          }
          if (userAnswer === currentAnswer) {
            updateElementText(resultElement, 'âœ… ØµØ­ÙŠØ­!');
            playSound('snd-win');
          } else {
            updateElementText(resultElement, `âŒ Ø®Ø·Ø£... Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: ${currentAnswer}`);
            playSound('snd-lose');
          }
          disableElement(startButton, false);
          showHideElement(questionArea, false);
          showHideElement(inputGroup, false);
        };

        startButton.addEventListener('click', generateQuestion);
        submitButton.addEventListener('click', checkAnswer);
        answerInput.addEventListener('keypress', (e) => {
          if (e.key === 'Enter') checkAnswer();
        });
      };

      // 8. Guess Number Game ğŸ”¢ (ØªØ®Ù…ÙŠÙ† Ø§Ù„Ø±Ù‚Ù…)
      const initGuessNumGame = () => {
        const section = document.querySelector('#guessnum');
        const startButton = section.querySelector('#guessnum-start');
        const inputGroup = section.querySelector('.input-group');
        const guessInput = section.querySelector('#guessnum-input');
        const submitButton = section.querySelector('#guessnum-submit');
        const resultElement = section.querySelector('.result');
        const messageElement = section.querySelector('.message');
        
        let targetNumber = 0;
        let tries = 0;

        const startGame = () => {
          targetNumber = getRandomInt(1, 100);
          tries = 0;
          updateElementText(resultElement, 'Ø®Ù…Ù† Ø±Ù‚Ù…Ù‹Ø§ Ø¨ÙŠÙ† 1 Ùˆ 100.');
          updateElementText(messageElement, '');
          guessInput.value = '';
          showHideElement(inputGroup, true);
          guessInput.focus();
          disableElement(startButton, true);
          disableElement(submitButton, false);
        };

        const checkGuess = () => {
          const userGuess = parseInt(guessInput.value);
          if (isNaN(userGuess) || userGuess < 1 || userGuess > 100) {
            updateElementText(messageElement, 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… ØµØ­ÙŠØ­ Ø¨ÙŠÙ† 1 Ùˆ 100.');
            return;
          }
          tries++;
          if (userGuess === targetNumber) {
            updateElementText(resultElement, `ğŸ‰ Ù…Ø¨Ø±ÙˆÙƒ! Ø®Ù…Ù†ØªÙ‡ Ø¨Ø¹Ø¯ ${tries} Ù…Ø­Ø§ÙˆÙ„Ø§Øª.`);
            updateElementText(messageElement, '');
            playSound('snd-win');
            disableElement(startButton, false);
            disableElement(submitButton, true);
            showHideElement(inputGroup, false);
          } else if (userGuess < targetNumber) {
            updateElementText(messageElement, 'â¬†ï¸ Ø£Ø¹Ù„Ù‰!');
            playSound('snd-click');
          } else {
            updateElementText(messageElement, 'â¬‡ï¸ Ø£Ù‚Ù„!');
            playSound('snd-click');
          }
          guessInput.value = '';
          guessInput.focus();
        };

        startButton.addEventListener('click', startGame);
        submitButton.addEventListener('click', checkGuess);
        guessInput.addEventListener('keypress', (e) => {
          if (e.key === 'Enter') checkGuess();
        });
      };

      // 9. BigSmall Game ğŸ“ (Ù…Ù† Ø§Ù„Ø£ÙƒØ¨Ø±ØŸ)
      const initBigSmallGame = () => {
        const section = document.querySelector('#bigsmall');
        const startButton = section.querySelector('#bigsmall-start');
        const questionArea = section.querySelector('.question-area');
        const inputGroup = section.querySelector('.input-group');
        const answerInput = section.querySelector('#bigsmall-answer');
        const submitButton = section.querySelector('#bigsmall-submit');
        const resultElement = section.querySelector('.result');
        let correctAnswer = 0;

        const generateChallenge = () => {
          const num1 = getRandomInt(1, 100);
          let num2 = getRandomInt(1, 100);
          while (num2 === num1) { // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ø±Ù‚Ù…ÙŠÙ† Ù…Ø®ØªÙ„ÙØ§Ù†
            num2 = getRandomInt(1, 100);
          }
          correctAnswer = Math.max(num1, num2);
          updateElementText(questionArea, `Ù…Ù† Ø§Ù„Ø£ÙƒØ¨Ø±ØŸ ${num1} Ø£Ùˆ ${num2}ØŸ`);
          answerInput.value = '';
          updateElementText(resultElement, '--');
          showHideElement(questionArea, true);
          showHideElement(inputGroup, true);
          answerInput.focus();
          disableElement(startButton, true);
        };

        const checkAnswer = () => {
          const userAnswer = parseInt(answerInput.value);
          if (isNaN(userAnswer)) {
            updateElementText(resultElement, 'Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù….');
            return;
          }
          if (userAnswer === correctAnswer) {
            updateElementText(resultElement, 'âœ… ØµØ­!');
            playSound('snd-win');
          } else {
            updateElementText(resultElement, `âŒ ØºÙ„Ø·... Ø§Ù„ØµØ­ÙŠØ­ Ù‡Ùˆ: ${correctAnswer}`);
            playSound('snd-lose');
          }
          disableElement(startButton, false);
          showHideElement(questionArea, false);
          showHideElement(inputGroup, false);
        };

        startButton.addEventListener('click', generateChallenge);
        submitButton.addEventListener('click', checkAnswer);
        answerInput.addEventListener('keypress', (e) => {
          if (e.key === 'Enter') checkAnswer();
        });
      };

      // 10. Typing Test âŒ¨ï¸ (Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ÙƒØªØ§Ø¨Ø©)
      const initTypingTestGame = () => {
        const section = document.querySelector('#typing');
        const startButton = section.querySelector('#typing-start');
        const textToTypeElement = section.querySelector('.text-to-type');
        const inputGroup = section.querySelector('.input-group');
        const typingInput = section.querySelector('#typing-input');
        const submitButton = section.querySelector('#typing-submit');
        const statusElement = section.querySelector('.status');
        
        const texts = ['Ù…ÙØªØ§Ø­', 'Ø¨Ø±Ù…Ø¬Ø©', 'ØªØ­Ø¯ÙŠ', 'Ø§Ù†Ø·Ù„Ø§Ù‚', 'Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª', 'Ù…ÙˆÙ‚Ø¹', 'Ù„Ø¹Ø¨Ø©', 'Ø­Ø§Ø³ÙˆØ¨', 'Ø§Ù†ØªØ±Ù†Øª', 'Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ø§Ù„Ø¹Ø§Ù„Ù…'];
        let currentText = '';
        let startTime = 0;

        const startTest = () => {
          currentText = texts[getRandomInt(0, texts.length - 1)];
          updateElementText(textToTypeElement, `Ø£ÙƒØªØ¨: "${currentText}"`);
          typingInput.value = '';
          updateElementText(statusElement, 'Ø§Ø¨Ø¯Ø£ Ø§Ù„ÙƒØªØ§Ø¨Ø©...');
          showHideElement(textToTypeElement, true);
          showHideElement(inputGroup, true);
          disableElement(startButton, true);
          disableElement(submitButton, false);
          typingInput.focus();
          startTime = Date.now();
        };

        const checkTyping = () => {
          const typedText = typingInput.value;
          const timeTaken = Date.now() - startTime;

          if (typedText === currentText) {
            updateElementText(statusElement, `ğŸ‰ Ù…Ø¶Ø¨ÙˆØ·! ÙˆÙ‚ØªÙƒ: ${timeTaken} Ù…Ù„Ù„ÙŠ Ø«Ø§Ù†ÙŠØ©.`);
            playSound('snd-win');
          } else {
            updateElementText(statusElement, `âŒ Ø®Ø·Ø£! ÙƒØ§Ù† Ø§Ù„Ù…ÙØ±ÙˆØ¶: "${currentText}". ÙƒØªØ¨Øª: "${typedText}"`);
            playSound('snd-lose');
          }
          disableElement(startButton, false);
          disableElement(submitButton, true);
          showHideElement(textToTypeElement, false);
          showHideElement(inputGroup, false);
        };

        startButton.addEventListener('click', startTest);
        submitButton.addEventListener('click', checkTyping);
        typingInput.addEventListener('keypress', (e) => {
          if (e.key === 'Enter') checkTyping();
        });
      };

      // Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø¯ÙˆØ§Ù„ Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨
      initXOGame();
      initRPSGame();
      initClickTargetGame();
      initReactionTestGame();
      initDiceGame();
      initMemoryGame();
      initMathGame();
      initGuessNumGame();
      initBigSmallGame();
      initTypingTestGame();

      // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø£ÙˆÙ„ Ø¨Ø´ÙƒÙ„ Ø§ÙØªØ±Ø§Ø¶ÙŠ
      if (navLinks.length > 0) {
        showSection(navLinks[0].getAttribute('href').slice(1));
        navLinks[0].classList.add('active'); // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ø£ÙˆÙ„ ÙØ¹Ø§Ù„
      }
    });
  </script>
</body>
</html>
